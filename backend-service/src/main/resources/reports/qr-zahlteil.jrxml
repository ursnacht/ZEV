<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="qr-zahlteil" pageWidth="595" pageHeight="297" columnWidth="595"
              leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0"
              uuid="22222222-2222-2222-2222-222222222222">

    <!--
    Swiss QR-Bill Sub-Report
    Layout gem채ss SIX Swiss QR-Bill Standard:
    - Empfangsschein (Receipt): 62mm width
    - Zahlteil (Payment part): 148mm width
    - Total height: 105mm
    - QR-Code: 46mm x 46mm
    -->

    <parameter name="TRANSLATIONS" class="java.util.Map"/>
    <parameter name="QR_CODE_IMAGE" class="java.io.InputStream"/>
    <parameter name="IBAN" class="java.lang.String"/>
    <parameter name="BETRAG" class="java.lang.Double"/>
    <parameter name="STELLER_NAME" class="java.lang.String"/>
    <parameter name="STELLER_STRASSE" class="java.lang.String"/>
    <parameter name="STELLER_PLZ_ORT" class="java.lang.String"/>
    <parameter name="MIETER_NAME" class="java.lang.String"/>
    <parameter name="MIETER_STRASSE" class="java.lang.String"/>
    <parameter name="MIETER_PLZ_ORT" class="java.lang.String"/>
    <parameter name="ZUSAETZLICHE_INFOS" class="java.lang.String"/>

    <title>
        <band height="297" splitType="Stretch">
            <!-- Horizontal dashed line at top (scissors cut line) -->
            <line>
                <reportElement x="0" y="0" width="595" height="1" uuid="22222222-2222-2222-2222-222222222201"/>
                <graphicElement>
                    <pen lineWidth="0.5" lineStyle="Dashed"/>
                </graphicElement>
            </line>

            <!-- Vertical dashed line between Empfangsschein and Zahlteil (at 62mm = 176pt) -->
            <line>
                <reportElement x="176" y="0" width="1" height="297" uuid="22222222-2222-2222-2222-222222222202"/>
                <graphicElement>
                    <pen lineWidth="0.5" lineStyle="Dashed"/>
                </graphicElement>
            </line>

            <!-- ============================================== -->
            <!-- EMPFANGSSCHEIN (Receipt) - Left side (62mm)    -->
            <!-- ============================================== -->

            <!-- Title: Empfangsschein -->
            <textField>
                <reportElement x="14" y="14" width="148" height="18" uuid="22222222-2222-2222-2222-222222222203"/>
                <textElement><font size="11" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_EMPFANGSSCHEIN")]]></textFieldExpression>
            </textField>

            <!-- Konto / Zahlbar an -->
            <textField>
                <reportElement x="14" y="38" width="148" height="10" uuid="22222222-2222-2222-2222-222222222204"/>
                <textElement><font size="6" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_KONTO_ZAHLBAR_AN")]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="48" width="148" height="10" uuid="22222222-2222-2222-2222-222222222205"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{IBAN}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="58" width="148" height="10" uuid="22222222-2222-2222-2222-222222222206"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{STELLER_NAME}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="68" width="148" height="9" uuid="22222222-2222-2222-2222-222222222207"/>
                <textElement><font size="7"/></textElement>
                <textFieldExpression><![CDATA[$P{STELLER_STRASSE}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="77" width="148" height="9" uuid="22222222-2222-2222-2222-222222222208"/>
                <textElement><font size="7"/></textElement>
                <textFieldExpression><![CDATA[$P{STELLER_PLZ_ORT}]]></textFieldExpression>
            </textField>

            <!-- Zahlbar durch -->
            <textField>
                <reportElement x="14" y="95" width="148" height="10" uuid="22222222-2222-2222-2222-222222222209"/>
                <textElement><font size="6" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_ZAHLBAR_DURCH")]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="105" width="148" height="10" uuid="22222222-2222-2222-2222-22222222220a"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{MIETER_NAME}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="115" width="148" height="9" uuid="22222222-2222-2222-2222-22222222220b"/>
                <textElement><font size="7"/></textElement>
                <textFieldExpression><![CDATA[$P{MIETER_STRASSE}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="14" y="124" width="148" height="9" uuid="22222222-2222-2222-2222-22222222220c"/>
                <textElement><font size="7"/></textElement>
                <textFieldExpression><![CDATA[$P{MIETER_PLZ_ORT}]]></textFieldExpression>
            </textField>

            <!-- W채hrung / Betrag -->
            <textField>
                <reportElement x="14" y="145" width="40" height="10" uuid="22222222-2222-2222-2222-22222222220d"/>
                <textElement><font size="6" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_WAEHRUNG")]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="14" y="155" width="40" height="12" uuid="22222222-2222-2222-2222-22222222220e"/>
                <textElement><font size="8"/></textElement>
                <text><![CDATA[CHF]]></text>
            </staticText>
            <textField>
                <reportElement x="60" y="145" width="60" height="10" uuid="22222222-2222-2222-2222-22222222220f"/>
                <textElement><font size="6" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_BETRAG")]]></textFieldExpression>
            </textField>
            <textField pattern="#,##0.00" isBlankWhenNull="true">
                <reportElement x="60" y="155" width="80" height="12" uuid="22222222-2222-2222-2222-222222222210"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{BETRAG}]]></textFieldExpression>
            </textField>

            <!-- Annahmestelle -->
            <textField>
                <reportElement x="14" y="180" width="148" height="12" uuid="22222222-2222-2222-2222-222222222211"/>
                <textElement textAlignment="Right"><font size="6" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_ANNAHMESTELLE")]]></textFieldExpression>
            </textField>

            <!-- ============================================== -->
            <!-- ZAHLTEIL (Payment part) - Right side (148mm)   -->
            <!-- ============================================== -->

            <!-- Title: Zahlteil -->
            <textField>
                <reportElement x="191" y="14" width="200" height="18" uuid="22222222-2222-2222-2222-222222222212"/>
                <textElement><font size="11" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_ZAHLTEIL")]]></textFieldExpression>
            </textField>

            <!-- QR-Code Image (46mm x 46mm = 130pt x 130pt) -->
            <image scaleImage="RetainShape" onErrorType="Blank">
                <reportElement x="191" y="38" width="130" height="130" uuid="22222222-2222-2222-2222-222222222213"/>
                <imageExpression><![CDATA[$P{QR_CODE_IMAGE}]]></imageExpression>
            </image>

            <!-- W채hrung / Betrag (below QR code) -->
            <textField>
                <reportElement x="191" y="175" width="40" height="12" uuid="22222222-2222-2222-2222-222222222214"/>
                <textElement><font size="8" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_WAEHRUNG")]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="191" y="187" width="40" height="14" uuid="22222222-2222-2222-2222-222222222215"/>
                <textElement><font size="10"/></textElement>
                <text><![CDATA[CHF]]></text>
            </staticText>
            <textField>
                <reportElement x="241" y="175" width="60" height="12" uuid="22222222-2222-2222-2222-222222222216"/>
                <textElement><font size="8" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_BETRAG")]]></textFieldExpression>
            </textField>
            <textField pattern="#,##0.00" isBlankWhenNull="true">
                <reportElement x="241" y="187" width="80" height="14" uuid="22222222-2222-2222-2222-222222222217"/>
                <textElement><font size="10"/></textElement>
                <textFieldExpression><![CDATA[$P{BETRAG}]]></textFieldExpression>
            </textField>

            <!-- Details section (right of QR code) -->
            <!-- Konto / Zahlbar an -->
            <textField>
                <reportElement x="350" y="38" width="230" height="12" uuid="22222222-2222-2222-2222-222222222218"/>
                <textElement><font size="8" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_KONTO_ZAHLBAR_AN")]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="50" width="230" height="12" uuid="22222222-2222-2222-2222-222222222219"/>
                <textElement><font size="10"/></textElement>
                <textFieldExpression><![CDATA[$P{IBAN}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="62" width="230" height="12" uuid="22222222-2222-2222-2222-22222222221a"/>
                <textElement><font size="10"/></textElement>
                <textFieldExpression><![CDATA[$P{STELLER_NAME}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="74" width="230" height="11" uuid="22222222-2222-2222-2222-22222222221b"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{STELLER_STRASSE}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="85" width="230" height="11" uuid="22222222-2222-2222-2222-22222222221c"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{STELLER_PLZ_ORT}]]></textFieldExpression>
            </textField>

            <!-- Zus채tzliche Informationen -->
            <textField>
                <reportElement x="350" y="105" width="230" height="12" uuid="22222222-2222-2222-2222-22222222221d"/>
                <textElement><font size="8" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_ZUSAETZLICHE_INFOS")]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="117" width="230" height="12" uuid="22222222-2222-2222-2222-22222222221e"/>
                <textElement><font size="10"/></textElement>
                <textFieldExpression><![CDATA[$P{ZUSAETZLICHE_INFOS}]]></textFieldExpression>
            </textField>

            <!-- Zahlbar durch -->
            <textField>
                <reportElement x="350" y="138" width="230" height="12" uuid="22222222-2222-2222-2222-22222222221f"/>
                <textElement><font size="8" isBold="true"/></textElement>
                <textFieldExpression><![CDATA[$P{TRANSLATIONS}.get("QR_ZAHLBAR_DURCH")]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="150" width="230" height="12" uuid="22222222-2222-2222-2222-222222222220"/>
                <textElement><font size="10"/></textElement>
                <textFieldExpression><![CDATA[$P{MIETER_NAME}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="162" width="230" height="11" uuid="22222222-2222-2222-2222-222222222221"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{MIETER_STRASSE}]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="true">
                <reportElement x="350" y="173" width="230" height="11" uuid="22222222-2222-2222-2222-222222222222"/>
                <textElement><font size="8"/></textElement>
                <textFieldExpression><![CDATA[$P{MIETER_PLZ_ORT}]]></textFieldExpression>
            </textField>
        </band>
    </title>
</jasperReport>
